{"version":3,"sources":["../../../../src/components/transaction-list/transaction-list.tsx"],"sourcesContent":["import { CurrencyValue, Scalar, Table } from '@components'\nimport { Box, Text, useInput } from 'ink'\nimport { useState } from 'react'\nimport { TransactionSummary } from 'ynab'\n\ninterface TransactionListProps {\n  transactions: TransactionSummary[]\n  pageSize: number\n}\n\nexport const TransactionList = ({\n  pageSize,\n  transactions,\n}: TransactionListProps) => {\n  const transactionRows = transactions.map((transaction) => ({\n    date: transaction.date,\n    payee: transaction.import_payee_name ?? '',\n    amount: new Intl.NumberFormat('en-GB', {\n      style: 'currency',\n      currency: 'GBP',\n    }).format(transaction.amount / 1000),\n  }))\n\n  const [range, setRange] = useState<[number, number]>([0, pageSize])\n\n  const next = () => {\n    if (pageSize) {\n      const left = range[0] + pageSize\n      const finalLeft = left > transactions.length ? range[0] : left\n      setRange([finalLeft, finalLeft + pageSize])\n    }\n  }\n  const previous = () => {\n    if (pageSize) {\n      const left = range[0] - pageSize\n      const finalLeft = left < 0 ? 0 : left\n      setRange([finalLeft, finalLeft + pageSize])\n    }\n  }\n\n  useInput((input, key) => {\n    if (key.leftArrow) {\n      previous()\n    } else if (key.rightArrow) {\n      next()\n    }\n  })\n\n  return (\n    <Box>\n      <Table data={transactionRows} start={range[0]} end={range[1]} />\n    </Box>\n  )\n}\n"],"names":["Table","Box","useInput","useState","TransactionList","pageSize","transactions","transactionRows","map","transaction","date","payee","import_payee_name","amount","Intl","NumberFormat","style","currency","format","range","setRange","next","left","finalLeft","length","previous","input","key","leftArrow","rightArrow","data","start","end"],"mappings":";AAAA,SAAgCA,KAAK,QAAQ,cAAa;AAC1D,SAASC,GAAG,EAAQC,QAAQ,QAAQ,MAAK;AACzC,SAASC,QAAQ,QAAQ,QAAO;AAQhC,OAAO,MAAMC,kBAAkB,CAAC,EAC9BC,QAAQ,EACRC,YAAY,EACS;IACrB,MAAMC,kBAAkBD,aAAaE,GAAG,CAAC,CAACC,cAAiB,CAAA;YACzDC,MAAMD,YAAYC,IAAI;YACtBC,OAAOF,YAAYG,iBAAiB,IAAI;YACxCC,QAAQ,IAAIC,KAAKC,YAAY,CAAC,SAAS;gBACrCC,OAAO;gBACPC,UAAU;YACZ,GAAGC,MAAM,CAACT,YAAYI,MAAM,GAAG;QACjC,CAAA;IAEA,MAAM,CAACM,OAAOC,SAAS,GAAGjB,SAA2B;QAAC;QAAGE;KAAS;IAElE,MAAMgB,OAAO;QACX,IAAIhB,UAAU;YACZ,MAAMiB,OAAOH,KAAK,CAAC,EAAE,GAAGd;YACxB,MAAMkB,YAAYD,OAAOhB,aAAakB,MAAM,GAAGL,KAAK,CAAC,EAAE,GAAGG;YAC1DF,SAAS;gBAACG;gBAAWA,YAAYlB;aAAS;QAC5C;IACF;IACA,MAAMoB,WAAW;QACf,IAAIpB,UAAU;YACZ,MAAMiB,OAAOH,KAAK,CAAC,EAAE,GAAGd;YACxB,MAAMkB,YAAYD,OAAO,IAAI,IAAIA;YACjCF,SAAS;gBAACG;gBAAWA,YAAYlB;aAAS;QAC5C;IACF;IAEAH,SAAS,CAACwB,OAAOC;QACf,IAAIA,IAAIC,SAAS,EAAE;YACjBH;QACF,OAAO,IAAIE,IAAIE,UAAU,EAAE;YACzBR;QACF;IACF;IAEA,qBACE,KAACpB;kBACC,cAAA,KAACD;YAAM8B,MAAMvB;YAAiBwB,OAAOZ,KAAK,CAAC,EAAE;YAAEa,KAAKb,KAAK,CAAC,EAAE;;;AAGlE,EAAC"}
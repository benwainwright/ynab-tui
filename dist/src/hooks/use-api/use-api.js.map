{"version":3,"sources":["../../../../src/hooks/use-api/use-api.ts"],"sourcesContent":["import { useEffect, useState } from 'react'\nimport { API } from 'ynab'\nimport { useConfig } from '@hooks'\n\nlet apiCache: API | undefined\n\nexport const useApi = () => {\n  const [api, setApi] = useState<API | undefined>(apiCache)\n  const { apiAuthStrategy } = useConfig()\n\n  useEffect(() => {\n    const asyncContext = async () => {\n      const token = await apiAuthStrategy()\n      const api = new API(token)\n      apiCache = api\n      setApi(api)\n    }\n\n    if (!api) {\n      asyncContext()\n    }\n  }, [])\n\n  return { api }\n}\n"],"names":["useEffect","useState","API","useConfig","apiCache","useApi","api","setApi","apiAuthStrategy","asyncContext","token"],"mappings":"AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,QAAO;AAC3C,SAASC,GAAG,QAAQ,OAAM;AAC1B,SAASC,SAAS,QAAQ,cAAQ;AAElC,IAAIC;AAEJ,OAAO,MAAMC,SAAS;IACpB,MAAM,CAACC,KAAKC,OAAO,GAAGN,SAA0BG;IAChD,MAAM,EAAEI,eAAe,EAAE,GAAGL;IAE5BH,UAAU;QACR,MAAMS,eAAe;YACnB,MAAMC,QAAQ,MAAMF;YACpB,MAAMF,MAAM,IAAIJ,IAAIQ;YACpBN,WAAWE;YACXC,OAAOD;QACT;QAEA,IAAI,CAACA,KAAK;YACRG;QACF;IACF,GAAG,EAAE;IAEL,OAAO;QAAEH;IAAI;AACf,EAAC"}
{"version":3,"sources":["../../../../src/hooks/use-budget/use-budget.ts"],"sourcesContent":["import { getApi, getFirstBudget } from '@core'\nimport { useEffect, useState } from 'react'\nimport { BudgetSummary } from 'ynab'\nimport { useConfig } from '@hooks'\n\ninterface UseBudgetConfig {\n  includeAccounts?: boolean\n}\n\nexport const useBudget = (config: UseBudgetConfig) => {\n  const [budget, setBudget] = useState<BudgetSummary | undefined>()\n\n  useEffect(() => {\n    const asyncContext = async () => {\n      const { apiAuthStrategy } = useConfig()\n      const api = await getApi(apiAuthStrategy)\n\n      const {\n        data: {\n          budgets: [budget],\n        },\n      } = await api.budgets.getBudgets(config.includeAccounts)\n\n      setBudget(budget)\n    }\n\n    asyncContext()\n  }, [])\n\n  return { budget }\n}\n"],"names":["getApi","useEffect","useState","useConfig","useBudget","config","budget","setBudget","asyncContext","apiAuthStrategy","api","data","budgets","getBudgets","includeAccounts"],"mappings":"AAAA,SAASA,MAAM,QAAwB,sBAAO;AAC9C,SAASC,SAAS,EAAEC,QAAQ,QAAQ,QAAO;AAE3C,SAASC,SAAS,QAAQ,cAAQ;AAMlC,OAAO,MAAMC,YAAY,CAACC;IACxB,MAAM,CAACC,QAAQC,UAAU,GAAGL;IAE5BD,UAAU;QACR,MAAMO,eAAe;YACnB,MAAM,EAAEC,eAAe,EAAE,GAAGN;YAC5B,MAAMO,MAAM,MAAMV,OAAOS;YAEzB,MAAM,EACJE,MAAM,EACJC,SAAS,CAACN,OAAO,EAClB,EACF,GAAG,MAAMI,IAAIE,OAAO,CAACC,UAAU,CAACR,OAAOS,eAAe;YAEvDP,UAAUD;QACZ;QAEAE;IACF,GAAG,EAAE;IAEL,OAAO;QAAEF;IAAO;AAClB,EAAC"}
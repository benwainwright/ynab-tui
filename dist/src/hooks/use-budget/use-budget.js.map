{"version":3,"sources":["../../../../src/hooks/use-budget/use-budget.ts"],"sourcesContent":["import { getApi, getFirstBudget } from '@core'\nimport { useEffect, useState } from 'react'\nimport { BudgetSummary } from 'ynab'\nimport { useConfig, useApi } from '@hooks'\n\ninterface UseBudgetConfig {\n  includeAccounts?: boolean\n}\n\nexport const useBudget = (config?: UseBudgetConfig) => {\n  const [budget, setBudget] = useState<BudgetSummary | undefined>()\n  const { api } = useApi()\n\n  useEffect(() => {\n    const asyncContext = async () => {\n      if (api) {\n        const {\n          data: {\n            budgets: [budget],\n          },\n        } = await api.budgets.getBudgets(config?.includeAccounts)\n\n        setBudget(budget)\n      }\n    }\n\n    if (!budget) {\n      asyncContext()\n    }\n  }, [api])\n\n  return { budget }\n}\n"],"names":["useEffect","useState","useApi","useBudget","config","budget","setBudget","api","asyncContext","data","budgets","getBudgets","includeAccounts"],"mappings":"AACA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,QAAO;AAE3C,SAAoBC,MAAM,QAAQ,cAAQ;AAM1C,OAAO,MAAMC,YAAY,CAACC;IACxB,MAAM,CAACC,QAAQC,UAAU,GAAGL;IAC5B,MAAM,EAAEM,GAAG,EAAE,GAAGL;IAEhBF,UAAU;QACR,MAAMQ,eAAe;YACnB,IAAID,KAAK;gBACP,MAAM,EACJE,MAAM,EACJC,SAAS,CAACL,OAAO,EAClB,EACF,GAAG,MAAME,IAAIG,OAAO,CAACC,UAAU,CAACP,QAAQQ;gBAEzCN,UAAUD;YACZ;QACF;QAEA,IAAI,CAACA,QAAQ;YACXG;QACF;IACF,GAAG;QAACD;KAAI;IAER,OAAO;QAAEF;IAAO;AAClB,EAAC"}
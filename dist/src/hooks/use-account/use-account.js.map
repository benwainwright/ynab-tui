{"version":3,"sources":["../../../../src/hooks/use-account/use-account.tsx"],"sourcesContent":["import { useApi, useBudget } from '@hooks'\nimport { useEffect, useState } from 'react'\nimport { TransactionSummary, Account } from 'ynab'\n\ninterface UseAccountConfig {\n  name?: string\n}\n\nexport const useAccount = (config: UseAccountConfig) => {\n  const [transactions, setTransactions] = useState<\n    TransactionSummary[] | undefined\n  >()\n  const { api } = useApi()\n  const { budget } = useBudget({ includeAccounts: true })\n\n  const [range, setRange] = useState<[number, number]>([0, 0])\n\n  const account = budget?.accounts?.find(\n    (account) => account.name === config.name,\n  )\n\n  useEffect(() => {\n    const asyncContext = async () => {\n      if (api && budget) {\n        if (!transactions && account) {\n          const {\n            data: { transactions: transactionsReturned },\n          } = await api.transactions.getTransactionsByAccount(\n            budget.id,\n            account.id,\n          )\n\n          setTransactions(transactionsReturned)\n        }\n      }\n    }\n\n    asyncContext()\n  }, [api, budget, transactions, account])\n\n  return {\n    account,\n    transactions,\n    range,\n  }\n}\n"],"names":["useApi","useBudget","useEffect","useState","useAccount","config","transactions","setTransactions","api","budget","includeAccounts","range","setRange","account","accounts","find","name","asyncContext","data","transactionsReturned","getTransactionsByAccount","id"],"mappings":"AAAA,SAASA,MAAM,EAAEC,SAAS,QAAQ,cAAQ;AAC1C,SAASC,SAAS,EAAEC,QAAQ,QAAQ,QAAO;AAO3C,OAAO,MAAMC,aAAa,CAACC;IACzB,MAAM,CAACC,cAAcC,gBAAgB,GAAGJ;IAGxC,MAAM,EAAEK,GAAG,EAAE,GAAGR;IAChB,MAAM,EAAES,MAAM,EAAE,GAAGR,UAAU;QAAES,iBAAiB;IAAK;IAErD,MAAM,CAACC,OAAOC,SAAS,GAAGT,SAA2B;QAAC;QAAG;KAAE;IAE3D,MAAMU,UAAUJ,QAAQK,UAAUC,KAChC,CAACF,UAAYA,QAAQG,IAAI,KAAKX,OAAOW,IAAI;IAG3Cd,UAAU;QACR,MAAMe,eAAe;YACnB,IAAIT,OAAOC,QAAQ;gBACjB,IAAI,CAACH,gBAAgBO,SAAS;oBAC5B,MAAM,EACJK,MAAM,EAAEZ,cAAca,oBAAoB,EAAE,EAC7C,GAAG,MAAMX,IAAIF,YAAY,CAACc,wBAAwB,CACjDX,OAAOY,EAAE,EACTR,QAAQQ,EAAE;oBAGZd,gBAAgBY;gBAClB;YACF;QACF;QAEAF;IACF,GAAG;QAACT;QAAKC;QAAQH;QAAcO;KAAQ;IAEvC,OAAO;QACLA;QACAP;QACAK;IACF;AACF,EAAC"}